<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>FocusFlow专注于此-在线自习室</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="增强版烟花动画          .fireworks-container {         position: relative;         width: 100%;         max-width: 100vw;  &#x2F;* 响应式宽度 *&#x2F;         height: 60vh;       &#x2F;* 视口高度比例 *&#x2F;         min-he">
<meta property="og:type" content="website">
<meta property="og:title" content="FocusFlow专注于此-在线自习室">
<meta property="og:url" content="http://example.com/html2/index.html">
<meta property="og:site_name" content="FocusFlow专注于此-在线自习室">
<meta property="og:description" content="增强版烟花动画          .fireworks-container {         position: relative;         width: 100%;         max-width: 100vw;  &#x2F;* 响应式宽度 *&#x2F;         height: 60vh;       &#x2F;* 视口高度比例 *&#x2F;         min-he">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-06-10T12:26:22.950Z">
<meta property="article:modified_time" content="2025-06-10T12:26:22.950Z">
<meta property="article:author" content="刘铭洋and郑轩">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="FocusFlow专注于此-在线自习室" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">FocusFlow专注于此-在线自习室</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS 订阅"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="page-" class="h-entry article article-type-page" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/html2/index.html" class="article-date">
  <time class="dt-published" datetime="2025-06-10T12:26:22.950Z" itemprop="datePublished">2025-06-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>增强版烟花动画</title>
    <style>
    .fireworks-container {
        position: relative;
        width: 100%;
        max-width: 100vw;  /* 响应式宽度 */
        height: 60vh;       /* 视口高度比例 */
        min-height: 300px;  /* 最小高度限制 */
        max-height: 80vh;   /* 最大高度限制 */
        margin: 2rem auto;
        overflow: hidden;
        background: #000;
        border-radius: 8px;
    }

    #fireworkCanvas {
        display: block;
        width: 100%;
        height: 100%;
        cursor: crosshair;
    }

    /* 移动端优化 */
    @media (max-width: 768px) {
        .fireworks-container {
            height: 50vh;
            min-height: 200px;
        }
    }
    </style>
</head>
<body>
    <div class="fireworks-container">
        <canvas id="fireworkCanvas"></canvas>
    </div>

    <script>
    (function() {
        const container = document.querySelector('.fireworks-container');
        const canvas = document.getElementById('fireworkCanvas');
        const ctx = canvas.getContext('2d');

        // 初始化画布尺寸
        function resizeCanvas() {
            canvas.width = container.clientWidth;
            canvas.height = container.clientHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // 烟花类型常量
        const FIREWORK_TYPES = {
            SPARKLE: 'sparkle',
            CIRCLE: 'circle',
            STAR: 'star',
            RING: 'ring'
        };

        // 颜色预设
        const COLOR_PRESETS = [
            ['#FF5E5E', '#FFB347', '#FFEE58'], // 暖色系
            ['#4ECDC4', '#556270', '#C7F464'], // 冷色系
            ['#FF6B6B', '#556270', '#4ECDC4'], // 蓝粉系
            ['#FFD166', '#06D6A0', '#118AB2'], // 霓虹系
            ['#D90429', '#2B2D42', '#8D99AE'], // 深色调
            ['#FF9F1C', '#FFBF69', '#CBF3F0']  // 浅色调
        ];

        // 烟花粒子类
        class Particle {
            constructor(x, y, fireworkType, colorSet) {
                this.x = x;
                this.y = y;
                this.type = fireworkType;
                this.colorSet = colorSet || COLOR_PRESETS[Math.floor(Math.random() * COLOR_PRESETS.length)];
                this.color = this.getRandomColor();
                this.size = Math.random() * 3 + 1;
                this.baseSize = this.size;
                this.speedX = 0;
                this.speedY = 0;
                this.angle = 0;
                this.speed = 0;
                this.gravity = 0.02 + Math.random() * 0.03;
                this.friction = 0.95 + Math.random() * 0.03;
                this.alpha = 1;
                this.decay = Math.random() * 0.03 + 0.01;
                this.age = 0;
                this.maxAge = Math.random() * 60 + 60;
                this.trail = [];
                this.maxTrailLength = Math.floor(Math.random() * 5) + 3;
                this.isLaunching = false;
                this.launchSpeed = 5 + Math.random() * 8;
                this.targetY = 0;
                
                this.init();
            }
            
            // 初始化粒子属性
            init() {
                if (this.type === 'launch') {
                    // 发射阶段的粒子
                    this.isLaunching = true;
                    this.size = 2 + Math.random() * 2;
                    this.color = '#FFFFFF';
                    this.targetY = Math.random() * canvas.height * 0.4;
                    this.speedY = -this.launchSpeed;
                } else {
                    // 爆炸后的粒子
                    this.setupParticleByType();
                }
            }
            
            // 根据烟花类型设置粒子属性
            setupParticleByType() {
                const angle = Math.random() * Math.PI * 2;
                const speed = 3 + Math.random() * 5;
                
                switch (this.type) {
                    case FIREWORK_TYPES.SPARKLE:
                        this.speedX = Math.cos(angle) * speed;
                        this.speedY = Math.sin(angle) * speed;
                        this.gravity = 0.01 + Math.random() * 0.02;
                        break;
                        
                    case FIREWORK_TYPES.CIRCLE:
                        const radius = 20 + Math.random() * 30;
                        this.speedX = Math.cos(angle) * (radius / 10);
                        this.speedY = Math.sin(angle) * (radius / 10);
                        this.gravity = 0.03 + Math.random() * 0.02;
                        break;
                        
                    case FIREWORK_TYPES.STAR:
                        const armAngle = angle + (Math.floor(Math.random() * 5) * (Math.PI / 5));
                        const armLength = 15 + Math.random() * 25;
                        this.speedX = Math.cos(armAngle) * (armLength / 8);
                        this.speedY = Math.sin(armAngle) * (armLength / 8);
                        this.gravity = 0.02 + Math.random() * 0.01;
                        break;
                        
                    case FIREWORK_TYPES.RING:
                        const ringRadius = 15 + Math.random() * 25;
                        this.speedX = Math.cos(angle) * (ringRadius / 8);
                        this.speedY = Math.sin(angle) * (ringRadius / 8);
                        this.gravity = 0.01 + Math.random() * 0.01;
                        break;
                }
            }
            
            // 获取随机颜色
            getRandomColor() {
                return this.colorSet[Math.floor(Math.random() * this.colorSet.length)];
            }
            
            // 更新粒子状态
            update() {
                this.age++;
                
                // 添加尾迹
                this.trail.push({x: this.x, y: this.y, alpha: this.alpha});
                if (this.trail.length > this.maxTrailLength) {
                    this.trail.shift();
                }
                
                if (this.isLaunching) {
                    // 发射阶段
                    if (this.y <= this.targetY) {
                        this.isLaunching = false;
                        return true; // 返回true表示需要爆炸
                    }
                    
                    // 修复：平滑调整速度，确保能到达目标位置
                    const distance = this.targetY - this.y;
                    const neededSpeed = distance * 0.1;
                    this.speedY += (neededSpeed - this.speedY) * 0.1;
                } else {
                    // 爆炸后阶段
                    this.speedX *= this.friction;
                    this.speedY *= this.friction;
                    this.speedY += this.gravity;
                    
                    // 闪烁效果
                    if (this.age % 3 === 0) {
                        this.size = this.baseSize * (0.7 + Math.random() * 0.6);
                    }
                }
                
                this.x += this.speedX;
                this.y += this.speedY;
                this.alpha -= this.decay;
                
                return false; // 返回false表示不需要爆炸
            }
            
            // 绘制粒子
            draw() {
                // 绘制尾迹
                if (this.trail.length > 1) {
                    for (let i = 0; i < this.trail.length - 1; i++) {
                        const p1 = this.trail[i];
                        const p2 = this.trail[i + 1];
                        
                        ctx.beginPath();
                        ctx.moveTo(p1.x, p1.y);
                        ctx.lineTo(p2.x, p2.y);
                        ctx.strokeStyle = `${this.color}${Math.floor(p1.alpha * 255).toString(16).padStart(2, '0')}`;
                        ctx.lineWidth = this.size * 0.7 * (1 - i / this.trail.length);
                        ctx.stroke();
                    }
                }
                
                // 绘制粒子
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fillStyle = this.color;
                ctx.fill();
                
                // 发光效果
                if (this.alpha > 0.5) {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size * 3 * this.alpha, 0, Math.PI * 2);
                    ctx.fillStyle = `${this.color}22`;
                    ctx.fill();
                }
            }
        }

        // 创建烟花
        function createFirework(e) {
            const rect = container.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            // 随机选择烟花类型
            const fireworkType = Object.values(FIREWORK_TYPES)[Math.floor(Math.random() * Object.values(FIREWORK_TYPES).length)];
            
            // 创建发射粒子
            const launchParticle = new Particle(x, canvas.height, 'launch');
            launchParticle.targetY = y;
            particles.push(launchParticle);
        }

        // 爆炸效果
        function explode(x, y, fireworkType) {
            const particleCount = 50 + Math.floor(Math.random() * 70);
            const colorSet = COLOR_PRESETS[Math.floor(Math.random() * COLOR_PRESETS.length)];
            
            for (let i = 0; i < particleCount; i++) {
                particles.push(new Particle(x, y, fireworkType, colorSet));
            }
            
            // 移除二次爆炸代码
        }

        let particles = [];
        function animate() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.08)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            for (let i = particles.length - 1; i >= 0; i--) {
                const particle = particles[i];
                
                // 更新粒子
                const shouldExplode = particle.update();
                
                // 如果是发射粒子且到达目标位置，触发爆炸
                if (shouldExplode) {
                    // 随机选择烟花类型
                    const fireworkType = Object.values(FIREWORK_TYPES)[Math.floor(Math.random() * Object.values(FIREWORK_TYPES).length)];
                    explode(particle.x, particle.y, fireworkType);
                    particles.splice(i, 1);
                    continue;
                }
                
                // 绘制粒子
                particle.draw();
                
                // 移除已消失的粒子
                if (particle.alpha <= 0 || particle.y > canvas.height) {
                    particles.splice(i, 1);
                }
            }

            requestAnimationFrame(animate);
        }

        // 点击事件（容器内）
        container.addEventListener('click', createFirework);

        // 启动动画
        animate();
    })();
    </script>
</body>
</html>    
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/html2/index.html" data-id="cmbqkii3l00006o3mg4xsau7g" data-title="" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
    
  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BC%91%E9%97%B2/" rel="tag">休闲</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%9A%E5%AE%A2%E4%BB%8B%E7%BB%8D/" rel="tag">博客介绍</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7/" rel="tag">效率工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/" rel="tag">时间管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B8%B8%E6%88%8F/" rel="tag">游戏</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/%E4%BC%91%E9%97%B2/" style="font-size: 20px;">休闲</a> <a href="/tags/%E5%8D%9A%E5%AE%A2%E4%BB%8B%E7%BB%8D/" style="font-size: 10px;">博客介绍</a> <a href="/tags/%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7/" style="font-size: 10px;">效率工具</a> <a href="/tags/%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/" style="font-size: 20px;">时间管理</a> <a href="/tags/%E6%B8%B8%E6%88%8F/" style="font-size: 10px;">游戏</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/06/">六月 2025</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/06/10/tomatoclock/">番茄钟工作法 时间管理魔法</a>
          </li>
        
          <li>
            <a href="/2025/06/10/enterhtml/">FocusFlow专注于此 在线自习室</a>
          </li>
        
          <li>
            <a href="/2025/06/10/enterhtml2/">放烟花小程序</a>
          </li>
        
          <li>
            <a href="/2025/06/10/enterhtml3/">休闲小游戏</a>
          </li>
        
          <li>
            <a href="/2025/06/10/hello-world/">欢迎来到我们的Hexo博客</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 刘铭洋and郑轩<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>